{"version":3,"sources":["模块的 Singleton 模式.006.js"],"names":[],"mappings":";;AAAA;;;AAGA;;;;;AAKA;AACI,MAAI,IAAI,QAAQ,UAAR,CAAR;AACA,UAAQ,GAAR,CAAY,EAAE,GAAd;AACA;;;AAGH;AACD;;;AAGA;AACI,MAAI,IAAI,QAAQ,UAAR,CAAR;AACA,SAAO,IAAP,GAAc,GAAd,CAFJ,CAEsB;AACrB","file":"模块的 Singleton 模式.006-compiled.js","sourcesContent":["/**\n * Created by liguohua on 2016/10/14.\n */\n/**\n *Singleton模式指的是调用一个类，任何时候返回的都是同一个实例。\n 对于Node来说，模块文件可以看成是一个类。怎么保证每次执行这个模块文件，返回的都是同一个实例呢？\n 很容易想到，可以把实例放到顶层对象global。\n */\n{\n    var a = require('./mod.js');\n    console.log(a.foo);\n    /**\n     变量a任何时候加载的都是A的同一个实例。\n     */\n}\n/**\n *这里有一个问题，全局变量global._foo是可写的，任何文件都可以修改。\n */\n{\n    var a = require('./mod.js');\n    global._foo = 123;//会使得别的脚本加载mod.js都失真。\n}"]}